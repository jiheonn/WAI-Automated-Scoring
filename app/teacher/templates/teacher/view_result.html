{% extends 'teacher/base.html' %}
{% load static %}

{% block content %}

{% if user.is_authenticated %}

<!--datatable source-->
<script src="https://code.jquery.com/jquery-3.5.1.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css" type="text/css" />


<!-- Bootstrap core CSS -->
<link href="{% static 'mainpage/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">

<!-- Custom styles for this template -->
<link href="{% static 'mainpage/css/small-business.css' %}" rel="stylesheet">
<link href="{% static 'mainpage/css/speech-bubble.css' %}" rel="stylesheet">
<link href="{% static 'mainpage/css/basic.css' %}" rel="stylesheet">

<link rel="stylesheet" type="text/css" href="{% static 'teacher/css/main.css' %}">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
    integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

<!--        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">-->

<!--        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>-->

<link href="{% static 'teacher/css/teacher.css' %}" rel="stylesheet">

<script>
    $('#view_result').addClass('active');
</script>

<!-- Page Content -->
<div class="container">

    <!-- Heading Row -->
    <div id="top" class="row justify-content-center my-5">
        <div class="col-lg-2">
            <img class="img-fluid rounded mb-4 mb-lg-0" src="{% static 'mainpage/image/logo.png' %}" width="120"
                height="120" alt="">
        </div>
        <div class="col-lg-5">
            <p id="message" class="font-weight-bolder triangle-border left">
                확인하고자 하는 문항 코드를 입력하여 응답 결과를 확인할 수 있습니다.
                응답 결과는 파일로도 저장이 가능합니다.</p>
        </div>
    </div>
    <div class="container">
        <form id="view_detail_form" action="{% url 'teacher_view_result_detail' %}" method="GET">

            <table id="asi_info" class="display">
                <thead>
                    <tr class="asi_info_tr">
                        <th>제목</th>
                        <th>타입</th>
                        <th>코드</th>
                        <th>기간</th>
                        <th>학년</th>
                        <th>반</th>
                        <th>더보기</th>
                    </tr>
                </thead>
                <tbody>
                    {% for data in assignment_data %}
                    <tr id="asi_tr" align="center">
                        <td>{{ data.assignment_title }}</td>
                        <td>{{ data.type }}</td>
                        <td>{{ data.assignment_id }}</td>
                        <td>{{ data.start_date }} &nbsp ~ &nbsp{{ data.end_date }}</td>
                        <td>{{ data.grade }}</td>
                        <td>{{ data.school_class }}</td>
                        <td>
                            <button type="submit" class="btn21" name="select_code" value="{{ data.assignment_id }}">더보기
                            </button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </form>
    </div>
</div>
<!-- /.container -->

{% else %}

<script>
    alert('로그인을 하셔야 이용이 가능합니다. 먼저 로그인을 해주세요.');
    document.location.href = "{% url 'teacher_login' %}";
</script>

{% endif %}

{% endblock %}